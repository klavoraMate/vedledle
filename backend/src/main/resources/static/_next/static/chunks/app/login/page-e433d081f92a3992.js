(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6057:function(e,n,r){Promise.resolve().then(r.bind(r,384))},384:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return h}});var t=r(7437),i=r(6523),l=r(4081),o=r(6643),a=r(2265),s=r(2179),c=r(6507),d=r(5551),x=r(4033);function h(){let[e,n]=(0,a.useState)(""),[r,h]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[m,g]=(0,a.useState)(!1),f=(0,x.useRouter)(),j=async n=>{n.preventDefault();try{g(!0),p("");let n=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})});if(g(!1),200===n.status){console.log("Login successful");let e=await n.json();localStorage.setItem("jwt",e.token),await f.push("/user")}else p("Login failed. Please check your credentials.")}catch(e){g(!1),p("An error occurred during login. Please try again."),console.error(e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)(s.Z,{maxWidth:"sm",children:(0,t.jsx)(c.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("form",{onSubmit:j,children:[(0,t.jsx)(l.Z,{fullWidth:!0,margin:"normal",children:(0,t.jsx)(o.Z,{label:"Email",variant:"outlined",type:"email",required:!0,value:e,onChange:e=>n(e.target.value)})}),(0,t.jsx)(l.Z,{fullWidth:!0,margin:"normal",children:(0,t.jsx)(o.Z,{label:"Password",variant:"outlined",type:"password",required:!0,value:r,onChange:e=>h(e.target.value)})}),(0,t.jsx)(l.Z,{fullWidth:!0,margin:"normal",children:(0,t.jsx)(d.Z,{variant:"contained",color:"primary",type:"submit",disabled:m,children:m?"Logging in...":"Login"})})]}),u&&(0,t.jsx)("p",{children:u})]})})})]})}},6523:function(e,n,r){"use strict";var t=r(7437),i=r(2265),l=r(6500),o=r(6507),a=r(4989),s=r(2653),c=r(3226),d=r(372),x=r(2513),h=r(2179),u=r(3283),p=r(5551),m=r(682),g=r(7739),f=r(4033);let j=["Gallery","Calendar"],Z=["Profile","Login","Logout"];n.Z=function(){let[e,n]=i.useState(null),[r,y]=i.useState(null),v=(0,f.useRouter)(),b=()=>{n(null)},k=e=>{y(null),v.push("/"+e.toLowerCase())};return(0,t.jsx)(l.Z,{position:"static",children:(0,t.jsx)(h.Z,{maxWidth:"xl",children:(0,t.jsxs)(a.Z,{disableGutters:!0,children:[(0,t.jsx)(u.Z,{sx:{display:{xs:"none",md:"flex"}},src:"/logo.png",alt:"German Sheppard Logo"}),(0,t.jsx)(c.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"VEDLEDLE"}),(0,t.jsxs)(o.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,t.jsx)(s.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{n(e.currentTarget)},color:"inherit",children:(0,t.jsx)(x.Z,{})}),(0,t.jsx)(d.Z,{id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!e,onClose:b,sx:{display:{xs:"block",md:"none"}},children:j.map(e=>(0,t.jsx)(g.Z,{onClick:b,children:(0,t.jsx)(c.Z,{textAlign:"center",children:e})},e))})]}),(0,t.jsx)(u.Z,{sx:{display:{xs:"flex",md:"none"}},src:"/logo.png",alt:"German Sheppard Logo"}),(0,t.jsx)(c.Z,{variant:"h5",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"VEDLEDLE"}),(0,t.jsx)(o.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:j.map(e=>(0,t.jsx)(p.Z,{onClick:b,sx:{my:2,color:"white",display:"block"},children:e},e))}),(0,t.jsxs)(o.Z,{sx:{flexGrow:0},children:[(0,t.jsx)(m.Z,{title:"Open settings",children:(0,t.jsx)(s.Z,{onClick:e=>{y(e.currentTarget)},sx:{p:0},children:(0,t.jsx)(u.Z,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})}),(0,t.jsx)(d.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!r,onClose:k,children:Z.map(e=>(0,t.jsx)(g.Z,{onClick:()=>k(e),children:(0,t.jsx)(c.Z,{textAlign:"center",children:e})},e))})]})]})})})}}},function(e){e.O(0,[818,643,971,596,744],function(){return e(e.s=6057)}),_N_E=e.O()}]);